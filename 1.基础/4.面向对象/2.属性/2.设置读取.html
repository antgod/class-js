<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>getset</title>
		<script type="text/javascript">
//			不一定非要同时指定 getter 和 setter。只指定 getter 意味着属性是不能写，尝试写入属性会被忽略。
//			在严格模式下，尝试写入只指定了 getter 函数的属性会抛出错误。类似地，只指定 setter 函数的属性也
//			不能读，否则在非严格模式下会返回 undefined，而在严格模式下会抛出错误。
			var book = {
				_year: 2004,     	//有get/set的函数内,需要重新定义属性,以防止循环调用
				edition: 1
			};
			Object.defineProperty(book, "year", {
				get: function(){
					return this._year;
				},
				set: function(newValue){
					if (newValue > 2004) {
						this._year = newValue;
						this.edition += newValue - 2004;
					}
				}
			});
			book.year = 2005;
			alert(book.edition); //2
			
		</script>
	</head>
	<body>
	
	</body>
</html>