###执行环境与作用域:原理
执行环境（execution context，为简单起见，有时也称为“环境”）是 JavaScript 中最为重要的一个概念。执行环境定义了变量或函数有权访问的其他数据，
决定了它们各自的行为。每个执行环境都有一个与之关联的变量对象（variable object），环境中定义的所有变量和函数都保存在这个对象中。虽然我们编写的代
码无法访问这个对象，但解析器在处理数据时会在后台使用它。全局执行环境是最外围的一个执行环境。根据 ECMAScript 实现所在的宿主环境不同，表示执行环境
的对象也不一样。在 Web 浏览器中，全局执行环境被认为是 window 对象（第 7 章将详细讨论），因此所有全局变量和函数都是作为 window 对象的属性和方法
创建的。某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁（全局执行环境直到应用程序退出——例如关闭网页或浏览
器——时才会被销毁）。

每个函数都有自己的执行环境。当执行流进入一个函数时，函数的环境就会被推入一个环境栈中。

而在函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境。ECMAScript 程序中的执行流正是由这个方便的机制控制着。

当代码在一个环境中执行时，会创建变量对象的一个作用域链（scope chain）。作用域链的用途，是保证对执行环境有权访问的所有变量和函数的有序访问。

作用域链的前端，始终都是当前执行的代码所在环境的变量对象。如果这个环境是函数，则将其活动对象（activation object）作为变量对象。活动对象在最开始时只
包含一个变量，即 arguments 对象（这个对象在全局环境中是不存在的）。作用域链中的下一个变量对象来自包含（外部）环境，而再下一个变量对象则来自下一个包含
环境。这样，一直延续到全局执行环境；全局执行环境的变量对象始终都是作用域链中的最后一个对象。

标识符解析是沿着作用域链一级一级地搜索标识符的过程。搜索过程始终从作用域链的前端开始，然后逐级地向后回溯，直至找到标识符为止（如果找不到标识符，通常会导
致错误发生）。

###执行环境及作用域:概念
    - 执行环境：执行环境是JS中最重要的一个概念；它定义了变量和函数有权访问的其他数据
    - 变量对象：每个执行环境都有一个与之关联的变量对象；环境中定义的所有变量和函数都保存在这个对象中。我们无法直接操作这个对象，JS解析器会操作它
    - 全局执行环境：最外围的一个执行环境，根据ECMAScript实现所在的宿主环境不同而不同，在Web浏览器中，全局执行环境被认为是window对象
    - 执行环境的销毁：在某个执行环境的所有代码都执行完毕后，环境将被销毁，意味着其中所有变量和函数定义也都随之销毁；全局执行环境的销毁是在网页或浏览器关闭时执行的
    - 执行流：每个函数都有自己的执行环境；当执行流进入一个函数时，函数的环境就被推入到一个环境栈中；在函数执行完成，栈会将其环境弹出，再把控制权返还给之前的执行环境
    - 作用域链：当代码在环境中执行时，会创建变量对象的一个作用链；作用域链的作用是保证对执行环境有权访问的所有属性（变量与函数）的有序访问
    - 作用域链的前端：前端，始终都是当前执行代码所在环境的变量对象（arguments在最前,this紧跟其后，声明在最后）
    - 作用域链的后端：全局执行环境的变量对象始终都是作用域链中的最后一个对象
    - 标识符（变量、函数、参数）的解析：是沿着作用域链一级一级地搜索过程；搜索的过程，始终都是从作用域链的前端开始，逐级向后，直到找到标识符为止；搜索到最后一个环境还是找不到的话，就会导致错误发生
    - 标识符查询：查询的过程，就是一个向上搜索的过程

