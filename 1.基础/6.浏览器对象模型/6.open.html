<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>open</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <script type="text/javascript">
		// 	alwaysLowered|yes/no|指定窗口隐藏在所有窗口之后
		// 	alwaysRaised|yes/no|指定窗口悬浮在所有窗口之上
		// 	depended|yes/no|是否和父窗口同时关闭
		// 	directories|yes/no|Nav2和3的目录栏是否可见
		// 	height|pixelvalue|窗口高度
		// 	hotkeys|	yes/no|在没菜单栏的窗口中设安全退出热键
		// 	innerHeight|pixelvalue|窗口中文档的像素高度
		// 	innerWidth|pixelvalue|窗口中文档的像素宽度
		// 	location|yes/no|位置栏是否可见
		// 	menubar|yes/no|菜单栏是否可见
		// 	outerHeight|pixelvalue|设定窗口(包括装饰边框)的像素高度
		// 	outerWidth|pixelvalue|设定窗口(包括装饰边框)的像素宽度
		// 	resizable|yes/no|窗口大小是否可调整
		// 	screenX|pixelvalue|窗口距屏幕左边界的像素长度
		// 	screenY|pixelvalue|窗口距屏幕上边界的像素长度
		// 	scrollbars|yes/no|窗口是否可有滚动栏
		// 	titlebar|yes/no|窗口题目栏是否可见
		// 	toolbar|yes/no|窗口工具栏是否可见
		// 	Width|pixelvalue|窗口的像素宽度
		// 	z-look|yes/no|窗口被激活后是否浮在其它窗口之上
    	
    	window.onload=function(){
    		var txt=document.getElementById("txt");
    		var openBtn=document.getElementById("open");
    		var closeBtn=document.getElementById("close");
    		
    		var openWindow,blocked;
    		
    		openBtn.onclick=function(){
    			var blocked=false;
    			try{
    	    		//打开页面\句柄\参数
    	    		openWindow=window.open('about:blank','newwindow',
    	    				'height=100,width=400,top=0,left=0,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,status=no');
    	    		if(!openWindow){
    	    			blocked=true;
    	    		}else{
    	    			openWindow.document.write(txt.value);
    	    		}
    	    		
    	    		//切断与主窗体通信，打开窗口可以在独立进程运行。
    	    		openWindow.opener=null;
    			}catch(e){
    				blocked=true;
    			}
    		}
    		if(blocked){
    			alert("弹出窗口已经被浏览器禁止！");
    		}
    		
    		closeBtn.onclick=function(){
    			!blocked&&openWindow&&openWindow.close();
    		}
    	}
    </script>

  </head>
  
  <body>
  	<textarea rows="5" cols="30" id="txt"><script>alert(1);</script></textarea>
  	<input id="open" type="button"  value="运行"/>
  	<input id="close" type="button" value="关闭"/>
  </body>
</html>
